(this["webpackJsonppowershelluniversal.adminconsole"]=this["webpackJsonppowershelluniversal.adminconsole"]||[]).push([[32,1],{1385:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var a=n(49),i=n.n(a),o=n(86),c=n(25),r=n(0),l=n.n(r),s=n(423),d=n(455),u=n(457),j=n(74),b=n(941),m=n(920),h=n(131),f=n(460),O=n(982),v=n(462),x=n(56),p=n(212),y=n(4);function w(){var e=Object(h.e)(),t=e.onOk,n=e.form;return Object(y.jsxs)(r.Fragment,{children:[Object(y.jsx)(h.d,{requiredRoles:["Administrator"],requiredAccessControls:x.a.Create,allowedWithOneWayGitSync:!1,children:Object(y.jsx)(j.a,{children:"Add New Role"})}),Object(y.jsx)(h.b,{title:"New Role",onClickOk:function(){t("/role","create",{})},formName:"create_role_form",children:Object(y.jsx)(p.b,{schemaName:"role",children:Object(y.jsx)(p.d,{name:"create_role_form",form:n,preserve:!1})})})]})}var C=n(600),k=n(239),I=n(438),N=n(623),g=n(38),W=n(122),R=n.n(W);function A(){var e=l.a.useState(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],r=Object(s.a)("/role",{enabled:!1,refetchOnWindowFocus:!1}),x=r.data,p=r.isLoading,W=r.refetch,A=Object(s.a)("/identity/claims",{refetchOnWindowFocus:!1}),S=A.data,_=A.isLoading,q=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.delete("/api/v1/cache/claims");case 2:d.b.success("Cleared Cached Calims");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function G(e){return"Administrator"===e.name||"Operator"===e.name||"Execute"===e.name||"User"===e.name||"Reader"===e.name}var F=[{key:"name",title:"Name",dataIndex:"name",sortable:!0,editable:!1},{key:"description",title:"Description",dataIndex:"description",sortable:!0,editable:!1},{width:"fit-content",dataIndex:"actions",editable:!1,render:function(e,t){return Object(y.jsxs)(u.b,{children:[Object(y.jsx)(h.a,{children:Object(y.jsx)(O.default,{record:t,allowedWithOneWayGitSync:!1})}),Object(y.jsx)(g.b,{to:{pathname:"".concat(t.id)},children:Object(y.jsx)(j.a,{type:"text",icon:Object(y.jsx)(C.a,{})})}),Object(y.jsx)(v.default,{hidden:G(t),resource:t,allowedWithOneWayGitSync:!1})]})}}];return Object(y.jsxs)(b.a,{title:"Roles",subTitle:"Roles based access controls.",extra:[Object(y.jsx)(j.a,{onClick:function(){return a(!0)},icon:Object(y.jsx)(k.a,{}),children:" View Claim Information"}),Object(y.jsx)(j.a,{onClick:q,icon:Object(y.jsx)(I.a,{}),children:" Clear Cached Claims"}),Object(y.jsx)(j.a,{icon:Object(y.jsx)(N.a,{}),href:"https://docs.powershelluniversal.com/config/security#authorization",target:"_blank",children:"Documentation"})],children:[Object(y.jsx)(f.default,{title:"Roles",actions:[Object(y.jsx)(h.a,{children:Object(y.jsx)(w,{})})],data:x,columns:F,loading:p,queryFn:W}),Object(y.jsx)(m.a,{visible:n,onCancel:function(){return a(!1)},onOk:function(){return a(!1)},cancelButtonProps:{hidden:!0},width:"75%",children:Object(y.jsx)(f.default,{title:(null===S||void 0===S?void 0:S.identity.name)+" - Claims",data:null===S||void 0===S?void 0:S.claims,columns:[{key:"type",title:"Type",dataIndex:"type",sortable:!0,editable:!1},{key:"value",title:"Value",dataIndex:"value",sortable:!0,editable:!1}],loading:_})})]})}},978:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(0);var a=n(925),i=n(457),o=n(422),c=n(4);function r(){return Object(c.jsx)(a.a,{type:"info",message:Object(c.jsxs)(i.b,{align:"center",style:{width:"100%",justifyContent:"space-between"},children:["Authentication requires a license.",Object(c.jsx)(o.a.Link,{href:"https://ironmansoftware.com/powershell-universal/?rel=product",target:"_blank",children:"Buy License."})]})})}},982:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var a=n(12),i=n(76),o=(n(0),n(56)),c=n(74),r=n(212),l=n(463),s=n(131),d=n(303),u=n(978),j=n(115),b=n(4);function m(e){var t,n=e.record,m=e.schemaName,h=e.allowedWithOneWayGitSync,f=Object(i.a)(e,["record","schemaName","allowedWithOneWayGitSync"]),O=Object(l.a)().getButtonProps,v=Object(d.a)(),x=Object(s.e)(),p=x.onOk,y=x.form,w=Object(j.a)().licensed;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(s.d,{requiredRoles:["Administrator","Operator"],requiredAccessControls:o.a.Edit,accessControls:f.accessControls,allowedWithOneWayGitSync:h,children:Object(b.jsx)(c.a,Object(a.a)(Object(a.a)(Object(a.a)({},f),O({action:"edit"})),{},{action:"edit"}))}),Object(b.jsxs)(s.b,{title:"Edit Resource",onClickOk:function(){var e,t,a,i,o,c,r,l,s,d,u,j="tag"===(null===n||void 0===n||null===(e=n.resourceInfo)||void 0===e?void 0:e.schemaName)||"role"===(null===n||void 0===n||null===(t=n.resourceInfo)||void 0===t?void 0:t.schemaName)||"endpoint"===(null===n||void 0===n||null===(a=n.resourceInfo)||void 0===a?void 0:a.schemaName)||"ratelimit"===(null===n||void 0===n||null===(i=n.resourceInfo)||void 0===i?void 0:i.schemaName)||"dashboard"===(null===n||void 0===n||null===(o=n.resourceInfo)||void 0===o?void 0:o.schemaName)||"schedule"===(null===n||void 0===n||null===(c=n.resourceInfo)||void 0===c?void 0:c.schemaName)||"publishedfolder"===(null===n||void 0===n||null===(r=n.resourceInfo)||void 0===r?void 0:r.schemaName)?null===n||void 0===n||null===(l=n.resourceInfo)||void 0===l?void 0:l.self:null===n||void 0===n||null===(s=n.resourceInfo)||void 0===s?void 0:s.parent;"page"===(null===n||void 0===n||null===(d=n.resourceInfo)||void 0===d?void 0:d.schemaName)&&(j=(null===n||void 0===n||null===(u=n.resourceInfo)||void 0===u?void 0:u.self)+"?ignoreContent=true"),p(j,"update",n)},children:[Object(b.jsx)(r.b,{schemaName:m||(null===n||void 0===n||null===(t=n.resourceInfo)||void 0===t?void 0:t.schemaName),children:Object(b.jsx)(r.d,{name:"edit_form",form:y,inEditMode:!0,preserve:!1,defaultValues:v(n)})}),!w(o.d.Dashboard)&&Object(b.jsx)(u.a,{})]})]})}}}]);
//# sourceMappingURL=32.5cd932c8.chunk.js.map