(this["webpackJsonppowershelluniversal.adminconsole"]=this["webpackJsonppowershelluniversal.adminconsole"]||[]).push([[30,100,102],{1076:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var a=n(12),l=(n(0),n(301)),i=n(423),r=n(4);function o(e){var t=Object(i.a)("/environment"),n=t.data,o=t.isLoading;return Object(r.jsxs)(l.default,Object(a.a)(Object(a.a)({},e),{},{loading:o,children:[Object(r.jsx)(l.default.Option,{value:null,children:"Default"},"default"),null===n||void 0===n?void 0:n.map((function(e){return Object(r.jsx)(l.default.Option,{value:e.name,children:e.name},e.name)}))]}))}},1079:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var a=n(12),l=n(0),i=n.n(l),r=n(301),o=n(423),d=n(38),u=n(4);function c(e){var t=Object(o.a)("/variable").data,n=null===t||void 0===t?void 0:t.filter((function(e){return"PSCredential"===e.type&&!e.disableRunAsSupport}));return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsxs)(r.default,Object(a.a)(Object(a.a)({},e),{},{children:[Object(u.jsx)(r.default.Option,{value:null,children:"Default"},"default"),null===n||void 0===n?void 0:n.map((function(e){return Object(u.jsx)(r.default.Option,{value:e.name,children:e.name},e.name)}))]})),0===(null===n||void 0===n?void 0:n.length)&&Object(u.jsx)(d.b,{to:"/admin/platform/variables",style:{float:"right",padding:0},children:"Add Run As Credential"})]})}},1146:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return V}));var a=n(12),l=n(25),i=n(76),r=n(0),o=n.n(r),d=n(74),u=n(230),c=n(138),s=n(422),j=n(301),p=n(56),v=n(131),f=n(146),m=n(919),b=n(691),O=n(940),h=n(926),x=n(452),y=n(271),g=n(1079),S=n(1076),T=n(4);function w(e){var t=e.parameters,n=e.form,l=e.showGoTo,i=e.script,r=null===t||void 0===t?void 0:t.filter((function(e){return 3!==e.displayType})).map((function(e){return Object(f.a)({},e.name,e.defaultValue)}));return Object(T.jsxs)(m.a,{form:n,layout:"horizontal",name:"dynamic_parameters_form",labelCol:{span:6},wrapperCol:{span:18},initialValues:Object(a.a)(Object(a.a)({},r),{},{gotoJob:!0,environment:"Default"}),children:[null===t||void 0===t?void 0:t.map((function(e){var t,n,l={};return 3!==e.displayType&&e.defaultValue&&(l.initialValue=e.defaultValue),Object(T.jsx)(m.a.Item,Object(a.a)(Object(a.a)({name:e.name,label:e.displayName||e.name,required:e.required,tooltip:e.helpText,rules:[{required:e.required,message:"".concat(e.name," can't be empty.")}]},l),{},{children:0===e.displayType?Object(T.jsx)(b.default,{}):1===e.displayType?Object(T.jsx)(O.default,{defaultValue:0}):2===e.displayType?Object(T.jsx)(h.default,{}):3===e.displayType?Object(T.jsx)(x.a,{showTime:!0,format:"DD-MM-YYYY HH:mm:ss"}):4===e.displayType?Object(T.jsx)(j.default,{children:null===(t=e.validValues)||void 0===t?void 0:t.map((function(e){return Object(T.jsx)(j.default.Option,{value:e,children:e},e)}))}):5===e.displayType?Object(T.jsx)(g.default,{}):6===e.displayType?Object(T.jsx)(j.default,{mode:"tags",tokenSeparators:[",",";"],children:null===(n=e.validValues)||void 0===n?void 0:n.map((function(e){return Object(T.jsx)(j.default.Option,{value:e,children:e},e)}))}):null}),e.id)})),!i.environment&&Object(T.jsx)(m.a.Item,{name:"environment",label:"Environment",children:Object(T.jsx)(S.default,{})}),!i.credential&&Object(T.jsx)(m.a.Item,{name:"credential",label:"Run As",children:Object(T.jsx)(g.default,{})}),l&&Object(T.jsx)(m.a.Item,{name:"gotoJob",tooltip:"Automatically navigate to job page when done.",valuePropName:"checked",label:"Go To Job",children:Object(T.jsx)(y.default,{})})]})}var P=n(633);function V(e){var t,n,f,m,b=e.script,O=Object(i.a)(e,["script"]),h=null===b||void 0===b||null===(t=b.scriptParameters)||void 0===t?void 0:t.map((function(e){return e.parameterSet})).filter((function(e){return"Default"!==e})).filter((function(e,t,n){return n.indexOf(e)===t})),x=o.a.useState((null===b||void 0===b?void 0:b.defaultParameterSet)||h&&h[0]),y=Object(l.a)(x,2),g=y[0],S=y[1],V=Object(v.e)(),k=V.form,C=V.onOk,D=function(e){var t=null!==k.getFieldValue(null===e||void 0===e?void 0:e.name)?k.getFieldValue(null===e||void 0===e?void 0:e.name):null===e||void 0===e?void 0:e.defaultValue;return"System.String[]"===(null===e||void 0===e?void 0:e.type)?JSON.stringify(t):t};return Object(T.jsxs)(r.Fragment,{children:[Object(T.jsx)(v.d,{requiredRoles:["Administrator","Operator","Execute"],requiredAccessControls:p.a.Execute,accessControls:null===b||void 0===b?void 0:b.accessControls,allowedWithOneWayGitSync:!0,children:Object(T.jsx)(d.a,Object(a.a)({type:"primary",icon:Object(T.jsx)(P.a,{})},O))}),Object(T.jsxs)(v.b,{title:"Run ".concat(null===b||void 0===b?void 0:b.fullPath),onClickOk:function(){var e;C("/script/path/".concat(null===b||void 0===b?void 0:b.fullPath),"create",{jobParameters:null===b||void 0===b||null===(e=b.scriptParameters)||void 0===e?void 0:e.filter((function(e){return e.parameterSet===g||"Default"===e.parameterSet})).map((function(e){return{name:null===e||void 0===e?void 0:e.name,type:e.type,value:D(e),displayType:e.displayType}}))})},width:0!==(null===b||void 0===b||null===(n=b.scriptParameters)||void 0===n?void 0:n.length)?1e3:500,children:[Object(T.jsxs)(u.a,{style:{marginBottom:"10px"},children:[Object(T.jsx)(c.a,{span:6}),Object(T.jsxs)(c.a,{span:18,children:[null===b||void 0===b?void 0:b.longDescription,null===b||void 0===b||null===(f=b.links)||void 0===f?void 0:f.map((function(e){return Object(T.jsx)("p",{children:Object(T.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:e})})}))]})]}),(null===h||void 0===h?void 0:h.length)>1&&Object(T.jsxs)(u.a,{style:{marginBottom:"20px"},children:[Object(T.jsx)(c.a,{span:6,style:{textAlign:"right",paddingRight:"10px"},children:Object(T.jsx)(s.a,{children:"Parameter Set:"})}),Object(T.jsx)(c.a,{span:18,children:Object(T.jsx)(j.default,{id:"parameterSet",onChange:function(e){return S(e.toString())},value:g,style:{width:"100%"},defaultValue:null===b||void 0===b?void 0:b.defaultParameterSet,children:null===h||void 0===h?void 0:h.map((function(e){return Object(T.jsx)(j.default.Option,{value:e,children:e},e)}))})})]}),Object(T.jsx)(w,{parameters:null===b||void 0===b||null===(m=b.scriptParameters)||void 0===m?void 0:m.filter((function(e){return 0===(null===h||void 0===h?void 0:h.length)||e.parameterSet===g||"Default"===e.parameterSet})),form:k,showGoTo:!0,script:b})]})]})}}}]);
//# sourceMappingURL=30.90c76c7f.chunk.js.map