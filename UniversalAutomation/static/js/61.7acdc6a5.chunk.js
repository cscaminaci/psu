(this["webpackJsonppowershelluniversal.adminconsole"]=this["webpackJsonppowershelluniversal.adminconsole"]||[]).push([[61],{1347:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(25),o=n(0),c=n.n(o),a=n(461),u=n(455),r=n(948),s=n(457),l=n(95),d=n(74),j=n(629),b=n(634),p=n(343),v=n(178),f=n(231),O=n(98),h=n(22),x=n(995),g=n(4);function m(){var e=Object(a.j)().resource,t=Object(f.a)({onSuccess:function(e){return u.b.info("Response copied.")}}).copy,n=c.a.useRef(),o=c.a.useState(!1),m=Object(i.a)(o,2),y=m[0],k=m[1],w=c.a.useState(""),C=Object(i.a)(w,2),S=C[0],R=C[1],E=c.a.useCallback((function(){n.current=new Worker("./workers/output.js")}),[]),J=function(){k(!1),n.current.terminate()},Q=c.a.useCallback((function(){E(),n.current.onmessage=function(e){var t;k(!1),R(null===(t=e.data)||void 0===t?void 0:t.value)}}),[E]);return c.a.useEffect((function(){Q()}),[e.id,Q]),c.a.useEffect((function(){return function(){J()}}),[null===e||void 0===e?void 0:e.id]),Object(g.jsx)(v.a,{spinning:y,children:Object(g.jsx)(r.a,{title:y?"Executing...":"Output",bordered:!1,style:{minWidth:"100%"},extra:Object(g.jsx)(O.a,{requiredRoles:["Operator","Administrator"],children:Object(g.jsxs)(s.b,{size:"small",children:[Object(g.jsx)(l.a,{title:y?"Pause":"Run",children:Object(g.jsx)(d.a,{type:"text",icon:y?Object(g.jsx)(j.a,{}):Object(g.jsx)(b.a,{}),onClick:function(){return y?(J(),h.a.resetQueries("/endpoint/".concat(null===e||void 0===e?void 0:e.id,"/output")),void Q()):function(){var t;k(!0),n.current.postMessage({msg:"getOutput",url:(null===(t=h.a.getQueryData("/endpoint/".concat(null===e||void 0===e?void 0:e.id)))||void 0===t?void 0:t.fullUrl)||"".concat(window.location.origin).concat(null===e||void 0===e?void 0:e.url)})}()}})}),Object(g.jsx)(l.a,{title:"Copy",children:Object(g.jsx)(d.a,{type:"text",icon:Object(g.jsx)(p.a,{}),onClick:function(){return t(null===e||void 0===e?void 0:e.output)}})})]})}),bodyStyle:{padding:0},headStyle:{borderBottom:"unset"},children:Object(g.jsx)(x.b,{children:Object(g.jsx)(x.a,{height:"calc(30vh)",language:"json",loading:y,value:S,options:{minimap:{renderCharacters:!1,maxColumn:80}}})})})})}}}]);
//# sourceMappingURL=61.7acdc6a5.chunk.js.map