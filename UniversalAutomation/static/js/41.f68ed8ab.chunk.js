(this["webpackJsonppowershelluniversal.adminconsole"]=this["webpackJsonppowershelluniversal.adminconsole"]||[]).push([[41,6],{1497:function(e,r,n){"use strict";n.r(r);var t=n(49),a=n.n(t),c=n(86),i=n(0),o=n.n(i),u=n(115),s=n(56),l=n(992),d=n(43),f=n(423),b=n(924),h=n(1138),p=n(1139),w=n(1140),v=n(122),m=n.n(v),j=n(455),O=n(1141),k=n(4),y=new p.FitAddon,x=new w.SearchAddon,g=new h.WebLinksAddon;function C(e,r){return L.apply(this,arguments)}function L(){return(L=Object(c.a)(a.a.mark((function e(r,n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"post",url:"/api/v1/dashboard/".concat(n,"/terminal"),data:{command:r}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.default=function(){var e=o.a.useRef(null),r=o.a.useRef(""),n=Object(u.a)().licensed,t=Object(d.i)().id,h=Object(f.a)("/dashboard/".concat(t),{enabled:!!t&&n(s.d.Dashboard),select:function(e){return null===e||void 0===e?void 0:e.status},refetchOnMount:!1,refetchOnWindowFocus:!1}).data,p=Object(b.a)(function(){var e=Object(c.a)(a.a.mark((function e(r){var n,t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,t=r.cmd,e.next=3,C(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),{onError:function(e,r,n){j.b.error("Command faild; ".concat(null===e||void 0===e?void 0:e.message))}}).mutateAsync;return Object(i.useEffect)((function(){if(n(s.d.Dashboard)){var a=e.current;return 1!==h?e.current.terminal.writeln("Dashboard not running."):(e.current.terminal.writeln("Connected to the Universal Dashboard Admin Terminal"),e.current.terminal.write("PS> "),e.current.terminal.onKey((function(n){var a=e.current.terminal;if("\r"===n.key){if("cls"===r.current.toLocaleLowerCase()||"clear-host"===r.current.toLocaleLowerCase()){a.clear();for(var c=0;c<4+r.current.length;c++)a.write("\b \b");return a.write("PS> "),void(r.current="")}p({id:parseInt(t),cmd:r.current}).then((function(e){a.writeln(e),a.write("PS> "),r.current=""}))}if("\x1b"!==n.key){if("\x7f"===n.key&&a.buffer.active.cursorX>4)return r.current.length>0&&(r.current=r.current.substr(0,r.current.length-1)),void a.write("\b \b");e.current.terminal.write(n.key),r.current=r.current+n.key}else if(r.current.length>0){for(var i=0;i<r.current.length;i++)a.write("\b \b");r.current=""}}))),function(){return a.terminal.dispose()}}}),[t,h]),n(s.d.Dashboard)?Object(k.jsx)(O.a,{ref:e,addons:[x,y,g],options:{cols:80,cursorBlink:!0}}):Object(k.jsx)(l.default,{title:"Console is only available for licensed instances."})}},992:function(e,r,n){"use strict";n.r(r),n.d(r,"default",(function(){return o}));n(0);var t=n(922),a=n(74),c=n(604),i=n(4);function o(e){var r=e.title;return Object(i.jsx)(t.a,{title:r,status:"warning",extra:Object(i.jsx)(a.a,{icon:Object(i.jsx)(c.a,{}),onClick:function(){window.location.href="https://ironmansoftware.com/powershell-universal?rel=product"},children:"Buy License"})})}}}]);
//# sourceMappingURL=41.f68ed8ab.chunk.js.map