(this["webpackJsonppowershelluniversal.adminconsole"]=this["webpackJsonppowershelluniversal.adminconsole"]||[]).push([[20,117],{1018:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return a}));n(0);var i=n(38),o=n(694),l=n(4);function a(t){var e=t.text,n=t.to;return Object(l.jsx)(o.a,{color:"blue",children:Object(l.jsx)(i.b,{style:{color:"inherit"},to:n,children:e})})}},1136:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(12),o=n(76),l=(n(0),n(95)),a=n(74),r=n(43),c=n(600),d=n(98),s=n(4);function u(t){var e=t.job,n=Object(o.a)(t,["job"]),u=Object(r.h)(),j=Object(r.g)();return Object(s.jsx)(d.a,{requiredRoles:["Administrator"],children:Object(s.jsx)(l.a,{title:(null===e||void 0===e?void 0:e.isScriptDeleted)?"Script deleted":"Go to script",children:Object(s.jsx)(a.a,Object(i.a)(Object(i.a)({type:"text",icon:Object(s.jsx)(c.a,{})},n),{},{disabled:null===e||void 0===e?void 0:e.isScriptDeleted,"aria-label":"view script ".concat(null===e||void 0===e?void 0:e.scriptFullPath," button"),onClick:function(){return u("/admin/automation/scripts/".concat(null===e||void 0===e?void 0:e.scriptFullPath),{state:{from:null===j||void 0===j?void 0:j.pathname}})}}))})})}},1137:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var i=n(12),o=n(76),l=(n(0),n(22)),a=n(918),r=n(95),c=n(74),d=n(98),s=n(647),u=n(4);function j(t){var e=t.job,n=Object(o.a)(t,["job"]),j=Object(l.b)(),v=j.mutateAsync,b=j.isLoading;return 1===(null===e||void 0===e?void 0:e.status)||4===(null===e||void 0===e?void 0:e.status)?Object(u.jsx)(d.a,{requiredRoles:["Administrator"],children:Object(u.jsx)(a.a,{autoAdjustOverflow:!0,arrowPointAtCenter:!0,color:"red",okText:"Yes",cancelText:"No",title:"Are you sure you want to stop this job?",onConfirm:function(){v({key:"/job/".concat(null===e||void 0===e?void 0:e.id),action:"delete"})},children:Object(u.jsx)(r.a,{title:"Stop Job",children:Object(u.jsx)(c.a,Object(i.a)({"aria-label":"cancel job ".concat(null===e||void 0===e?void 0:e.id," button"),loading:b,type:"text",icon:Object(u.jsx)(s.a,{})},n))})})}):null}},1326:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return O}));var i=n(25),o=n(0),l=n(460),a=n(423),r=n(1135),c=n(68),d=n(1018),s=n(694),u=n(95),j=n(457),v=n(1136),b=n(1137),p=n(4);function O(t){var e,n,O=Object(o.useState)(null),f=Object(i.a)(O,2),h=f[0],x=f[1],g=Object(a.a)("/job?tag=".concat((null===h||void 0===h?void 0:h.name)?h.name:"").concat(t.state?"&status="+t.state:""),{refetchOnWindowFocus:!1,keepPreviousData:!0}),m=g.data,y=g.isFetching,k=g.isLoading,w=Object(a.a)("/tag"),S=w.data,A=w.isLoading,C=[{title:"Id",key:"id",dataIndex:"id",align:"left",responsive:["md"],render:function(t,e){return Object(p.jsx)(d.default,{text:t,to:"".concat(e.id)})}},{title:"Script",key:"script",dataIndex:"script",align:"left",responsive:["md"],render:function(t,e){return e.scriptFullPath}},{title:"Status",key:"status",dataIndex:"status",align:"center",responsive:["md"],render:function(t,e){return 3===(null===e||void 0===e?void 0:e.status)?Object(p.jsx)(u.a,{title:(null===e||void 0===e?void 0:e.output)||(null===e||void 0===e?void 0:e.statusDescription),color:"red",children:Object(c.r)(null===e||void 0===e?void 0:e.status)}):Object(p.jsx)(u.a,{title:(null===e||void 0===e?void 0:e.output)||(null===e||void 0===e?void 0:e.statusDescription),children:Object(c.r)(null===e||void 0===e?void 0:e.status)})}},{key:"tags",title:"Tags",dataIndex:"tags",editable:!1,render:function(t,e){return function(t){return A||null===(null===t||void 0===t?void 0:t.tags)?Object(p.jsx)(p.Fragment,{}):t.tags.split("|").map((function(t){var e=null===S||void 0===S?void 0:S.find((function(e){return e.name===t}));return Object(p.jsx)(s.a,{color:null===e||void 0===e?void 0:e.color,style:{cursor:"pointer"},onClick:function(){x(e)},children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.name)}))}(e)}},{title:"Description",key:"datetime",align:"right",responsive:["md"],render:function(t,e){return Object(c.e)(e)}},{title:"Execution Time",key:"datetime",align:"right",responsive:["md"],render:function(t,e){return Object(p.jsx)(r.a,{job:e})}},{key:"actions",title:"actions",width:"min-content",render:function(t,e){return Object(p.jsxs)(j.b,{children:[Object(p.jsx)(v.a,{job:e}),Object(p.jsx)(b.a,{job:e})]})}}];return Object(p.jsx)(l.default,{title:"Jobs",data:null===m||void 0===m||null===(e=m.page)||void 0===e?void 0:e.reverse(),columns:C,loading:k||y,actions:[h&&Object(p.jsx)(s.a,{color:h.color,closable:!0,onClose:function(){x(null)},children:h.name})],pagination:{hideOnSinglePage:!0,showSizeChanger:!1,total:null===m||void 0===m||null===(n=m.page)||void 0===n?void 0:n.length}})}}}]);
//# sourceMappingURL=20.0e51161d.chunk.js.map