{"version":3,"sources":["components/debugging/breakpoints.tsx","components/debugging/debugging.tsx","components/pages/notLicensed.tsx"],"names":["Breakpoints","navigate","useNavigate","useQuery","enabled","refetchOnWindowFocus","breakpoints","data","isLoading","refetch","Continue","breakpoint","a","axios","method","url","processId","runspaceId","type","DebugActionType","columns","title","dataIndex","key","editable","width","render","value","record","icon","PlayCircleOutlined","onClick","BugOutlined","Table","actions","ReloadOutlined","loading","queryFn","TabPane","Tabs","Debugging","licensed","useAppStore","Feature","Automation","subTitle","extra","LinkOutlined","href","target","defaultActiveKey","tab","NotLicensed","status","window","location"],"mappings":"2XASe,SAASA,IACpB,IAAMC,EAAWC,cADiB,EAEgBC,YAC9C,uBACA,CACIC,SAAS,EACTC,sBAAsB,IAJhBC,EAFoB,EAE1BC,KAAmBC,EAFO,EAEPA,UAAWC,EAFJ,EAEIA,QAQhCC,EAAQ,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACPC,IAAM,CACRC,OAAQ,MACRC,IAAI,+BAAD,OAAiCJ,EAAWK,UAA5C,YAAyDL,EAAWM,YACvEV,KAAM,CACFW,KAAMC,IAAgBT,YALjB,OASbD,IATa,2CAAH,sDAYRW,EAAuC,CACzC,CACIC,MAAO,aACPC,UAAW,YACXC,IAAK,YACLC,UAAU,GAEd,CACIH,MAAO,cACPC,UAAW,aACXC,IAAK,aACLC,UAAU,GAEd,CACIC,MAAO,cACPH,UAAW,UACXE,UAAU,EACVE,OAAQ,SAACC,EAAOC,GAAR,OACJ,eAAC,IAAD,WACI,cAAC,IAAD,CAASP,MAAM,WAAf,SACI,cAAC,IAAD,CAAQQ,KAAM,cAACC,EAAA,EAAD,IAAwBC,QAAS,kBAAMrB,EAASkB,QAElE,cAAC,IAAD,CAASP,MAAM,QAAf,SACI,cAAC,IAAD,CAAQQ,KAAM,cAACG,EAAA,EAAD,IAAiBD,QAAS,kBAAM9B,EAAS,6BAAD,OAA8B2B,EAAOZ,UAArC,YAAkDY,EAAOX,wBAQnI,OACI,cAACgB,EAAA,QAAD,CACIZ,MAAM,cACNa,QAAS,CACL,cAAC,IAAD,CAAQL,KAAM,cAACM,EAAA,EAAD,IAAoBJ,QAAS,kBAAMtB,KAAjD,sBAEJW,QAASA,EACTb,KAAMD,EACN8B,QAAS5B,EACT6B,QAAS5B,I,sBC/Db6B,EAAYC,IAAZD,QAEO,SAASE,IAGpB,OAAKC,EAFgBC,cAAbD,UAEME,IAAQC,YAKlB,cAAC,IAAD,CAAYvB,MAAM,YAAYwB,SAAS,8DAA8DC,MACjG,CACI,cAAC,IAAD,CAAQjB,KAAM,cAAEkB,EAAA,EAAF,IAAmBC,KAAK,yFAAyFC,OAAO,SAAtI,4BAFR,SAMI,cAAC,IAAD,CAAMC,iBAAiB,IAAvB,SACI,cAACZ,EAAD,CAASa,IAAI,cAAb,SACI,cAACnD,EAAD,KAD2B,SAXhC,cAAC,UAAD,CAAaqB,MAAM,0D,iCCdlC,yFAIe,SAAS+B,EAAT,GAAiC,IAAV/B,EAAS,EAATA,MACpC,OACE,cAAC,IAAD,CACEA,MAAOA,EACPgC,OAAO,UACPP,MACE,cAAC,IAAD,CACEjB,KAAM,cAAC,IAAD,IACNE,QAAS,WACPuB,OAAOC,SAASP,KACd,gEAJN","file":"static/js/45.27bd6091.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Breakpoint, CustomColumns, DebugActionType } from \"../../types\";\r\nimport { useQuery } from \"react-query3\";\r\nimport { Button, Space, Tooltip } from \"antd\";\r\nimport Table from \"components/ui/Table\";\r\nimport { BugOutlined, PlayCircleOutlined, ReloadOutlined } from \"@ant-design/icons\";\r\nimport { useNavigate } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Breakpoints() {\r\n    const navigate = useNavigate();\r\n    const { data: breakpoints, isLoading, refetch } = useQuery<Breakpoint[]>(\r\n        \"/debugger/breakpoint\",\r\n        {\r\n            enabled: false,\r\n            refetchOnWindowFocus: false,\r\n        }\r\n    );\r\n\r\n    const Continue = async (breakpoint: Breakpoint) => {\r\n        await axios({\r\n            method: \"PUT\",\r\n            url: `/api/v1/debugger/breakpoint/${breakpoint.processId}/${breakpoint.runspaceId}`,\r\n            data: {\r\n                type: DebugActionType.Continue\r\n            },\r\n        });\r\n\r\n        refetch();\r\n    }\r\n\r\n    const columns: CustomColumns<Breakpoint>[] = [\r\n        {\r\n            title: \"Process ID\",\r\n            dataIndex: \"processId\",\r\n            key: \"processId\",\r\n            editable: false\r\n        },\r\n        {\r\n            title: \"Runspace ID\",\r\n            dataIndex: \"runspaceId\",\r\n            key: \"runspaceId\",\r\n            editable: false,\r\n        },\r\n        {\r\n            width: \"fit-content\",\r\n            dataIndex: \"actions\",\r\n            editable: false,\r\n            render: (value, record) => (\r\n                <Space>\r\n                    <Tooltip title=\"Continue\">\r\n                        <Button icon={<PlayCircleOutlined />} onClick={() => Continue(record)}></Button>\r\n                    </Tooltip>\r\n                    <Tooltip title=\"Debug\">\r\n                        <Button icon={<BugOutlined />} onClick={() => navigate(`/admin/platform/debugging/${record.processId}/${record.runspaceId}`)}></Button>\r\n                    </Tooltip>\r\n                </Space>\r\n            )\r\n        },\r\n    ];\r\n\r\n\r\n    return (\r\n        <Table\r\n            title=\"Breakpoints\"\r\n            actions={[\r\n                <Button icon={<ReloadOutlined />} onClick={() => refetch()}>Refresh</Button>\r\n            ]}\r\n            columns={columns}\r\n            data={breakpoints}\r\n            loading={isLoading}\r\n            queryFn={refetch}\r\n        />\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { Button, PageHeader, Tabs } from \"antd\";\r\nimport { LinkOutlined } from \"@ant-design/icons\";\r\nimport Breakpoints from \"./breakpoints\";\r\nimport useAppStore from \"components/context/app/Hooks\";\r\nimport NotLicensed from \"components/pages/notLicensed\";\r\nimport { Feature } from 'types';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Debugging() {\r\n    const { licensed } = useAppStore();\r\n\r\n    if (!licensed(Feature.Automation)) {\r\n        return <NotLicensed title=\"Debugging is only available for licensed instances.\" />\r\n    }\r\n\r\n    return (\r\n        <PageHeader title=\"Debugging\" subTitle=\"PowerShell script debugging tools for PowerShell Universal.\" extra={\r\n            [\r\n                <Button icon={< LinkOutlined />} href=\"https://docs.powershelluniversal.com/development/debugging-scripts#integrated-debugger\" target=\"_blank\" >Documentation</Button>\r\n            ]\r\n        }>\r\n\r\n            <Tabs defaultActiveKey=\"1\">\r\n                <TabPane tab=\"Breakpoints\" key=\"1\">\r\n                    <Breakpoints />\r\n                </TabPane>\r\n            </Tabs>\r\n\r\n        </PageHeader>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { Result, Button } from \"antd\";\r\nimport { CreditCardOutlined } from \"@ant-design/icons\";\r\n\r\nexport default function NotLicensed({ title }) {\r\n  return (\r\n    <Result\r\n      title={title}\r\n      status=\"warning\"\r\n      extra={\r\n        <Button\r\n          icon={<CreditCardOutlined />}\r\n          onClick={() => {\r\n            window.location.href =\r\n              \"https://ironmansoftware.com/powershell-universal?rel=product\";\r\n          }}\r\n        >\r\n          Buy License\r\n        </Button>\r\n      }\r\n    />\r\n  );\r\n}\r\n"],"sourceRoot":""}