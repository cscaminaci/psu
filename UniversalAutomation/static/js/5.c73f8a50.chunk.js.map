{"version":3,"sources":["components/dashboard/folders.tsx"],"names":["Table","React","lazy","EditModal","DeleteButton","FolderModal","PublishedFolders","useQuery","folders","data","isLoading","islicensed","licensed","useAppStore","Feature","Dashboard","columns","key","title","dataIndex","render","value","record","role","length","map","color","align","text","authentication","width","allowedWithOneWayGitSync","resource","subTitle","extra","icon","href","target","actions","loading"],"mappings":"6JAAA,iHASMA,EAAQC,IAAMC,MAAK,kBAAM,4CACzBC,EAAYF,IAAMC,MAAK,kBAAM,iCAC7BE,EAAeH,IAAMC,MAAK,kBAAM,4CAChCG,EAAcJ,IAAMC,MAAK,kBAAM,mCAqFtBI,UAnFf,WAA6B,IAAD,EACWC,YACnC,oBADYC,EADY,EAClBC,KAAeC,EADG,EACHA,UAIjBC,GAAaC,EADEC,cAAbD,UACoBE,IAAQC,WAE9BC,EAA4C,CAChD,CACEC,IAAK,OACLC,MAAO,OACPC,UAAW,QAEb,CACEF,IAAK,cACLC,MAAO,cACPC,UAAW,eAEb,CACEF,IAAK,kBACLC,MAAO,mBACPC,UAAW,mBAEb,CACEF,IAAK,OACLC,MAAO,OACPC,UAAW,OACXC,OAAQ,SAACC,EAAOC,GACG,IAAD,IAAhB,OAAIX,IACK,UAAAW,EAAOC,YAAP,eAAaC,QAAS,EAAtB,OACHF,QADG,IACHA,GADG,UACHA,EAAQC,YADL,aACH,EAAcE,KAAI,SAACF,GAAD,OAClB,cAAC,IAAD,CAAgBG,MAAM,OAAtB,SACGH,GADOA,MAKT,OAGX,CACEN,IAAK,iBACLC,MAAO,iBACPC,UAAW,iBACXQ,MAAO,SACPP,OAAQ,SAACQ,EAAMN,GAAP,OACA,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQO,gBAAiB,UAAY,aAEzC,CACEC,MAAO,cACPX,UAAW,UACXC,OAAQ,SAACQ,EAAMN,GACb,OACE,eAAC,IAAD,WACE,cAAC,IAAD,UACE,cAACnB,EAAD,CAAWmB,OAAQA,EAAQS,0BAA0B,MAEvD,cAAC3B,EAAD,CAAc4B,SAAUV,EAAQS,0BAA0B,UAOpE,OACE,cAAC,IAAD,CAAYb,MAAM,oBAAoBe,SAAS,yEAAyEC,MAAO,CAC7H,cAAC,IAAD,CAAQC,KAAM,cAAC,IAAD,IAAkBC,KAAK,kEAAkEC,OAAO,SAA9G,4BADF,SAGE,cAACrC,EAAD,CACEkB,MAAM,oBACNoB,QAAS,CACP,cAAC,IAAD,UACE,cAACjC,EAAD,OAGJW,QAASA,EACTuB,QAAS7B,EACTD,KAAMD","file":"static/js/5.c73f8a50.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { CustomColumns, PublishedFolder } from \"../../types\";\r\nimport { Feature } from \"../../types\";\r\nimport { useQuery } from \"react-query3\";\r\nimport useAppStore from \"components/context/app/Hooks\";\r\nimport { Modal } from \"components/ui/Modal\";\r\nimport { Button, PageHeader, Space, Tag } from \"antd\";\r\nimport { LinkOutlined } from \"@ant-design/icons\";\r\n\r\nconst Table = React.lazy(() => import(\"components/ui/Table\"));\r\nconst EditModal = React.lazy(() => import(\"components/ui/EditModal\"));\r\nconst DeleteButton = React.lazy(() => import(\"components/ui/DeleteButton\"));\r\nconst FolderModal = React.lazy(() => import(\"./FolderModal\"));\r\n\r\nfunction PublishedFolders() {\r\n  const { data: folders, isLoading } = useQuery<PublishedFolder[]>(\r\n    \"/publishedfolder\"\r\n  );\r\n  const { licensed } = useAppStore();\r\n  const islicensed = licensed(Feature.Dashboard);\r\n\r\n  const columns: CustomColumns<PublishedFolder>[] = [\r\n    {\r\n      key: \"path\",\r\n      title: \"Path\",\r\n      dataIndex: \"path\",\r\n    },\r\n    {\r\n      key: \"requestPath\",\r\n      title: \"RequestPath\",\r\n      dataIndex: \"requestPath\",\r\n    },\r\n    {\r\n      key: \"defaultDocument\",\r\n      title: \"Default Document\",\r\n      dataIndex: \"defaultDocument\",\r\n    },\r\n    {\r\n      key: \"role\",\r\n      title: \"Role\",\r\n      dataIndex: \"role\",\r\n      render: (value, record) => {\r\n        if (islicensed) {\r\n          return record.role?.length > 0\r\n            ? record?.role?.map((role) => (\r\n              <Tag key={role} color=\"blue\">\r\n                {role}\r\n              </Tag>\r\n            )) : null;\r\n        }\r\n        return null;\r\n      },\r\n    },\r\n    {\r\n      key: \"authentication\",\r\n      title: \"Authentication\",\r\n      dataIndex: \"authentication\",\r\n      align: \"center\",\r\n      render: (text, record) =>\r\n        record?.authentication ? \"Enabled\" : \"Disabled\",\r\n    },\r\n    {\r\n      width: \"fit-content\",\r\n      dataIndex: \"actions\",\r\n      render: (text, record) => {\r\n        return (\r\n          <Space>\r\n            <Modal>\r\n              <EditModal record={record} allowedWithOneWayGitSync={false} />\r\n            </Modal>\r\n            <DeleteButton resource={record} allowedWithOneWayGitSync={false} />\r\n          </Space>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <PageHeader title=\"Published Folders\" subTitle=\"Local folders shared over HTTP to allow for downloads from the folder.\" extra={[\r\n      <Button icon={<LinkOutlined />} href=\"https://docs.powershelluniversal.com/platform/published-folders\" target=\"_blank\">Documentation</Button>\r\n    ]}>\r\n      <Table\r\n        title=\"Published Folders\"\r\n        actions={[\r\n          <Modal>\r\n            <FolderModal />\r\n          </Modal>,\r\n        ]}\r\n        columns={columns}\r\n        loading={isLoading}\r\n        data={folders}\r\n      />\r\n    </PageHeader>\r\n\r\n  );\r\n}\r\n\r\nexport default PublishedFolders;\r\n"],"sourceRoot":""}